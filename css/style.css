/* 全站基本樣式 - 海風藍白主題 */
:root {
    --primary-color: #2a6a80;  /* 沉穩海藍 */
    --secondary-color: #0f3446;  /* 深海藍 */
    --accent-color: #b07a3a;  /* 低飽和暖棕橘 */
    --text-color: #1f2a33;
    --heading-color: #2a6a80;  /* 標題色 */
    --light-bg: #e6eef2;  /* 低對比霧藍 */
    --white: #f3f6f8;  /* 避免純白 */
    --shadow: 0 10px 30px rgba(0, 0, 0, 0.12);
    
    /* 時間主題背景 */
    --bg-gradient-start: #2a5c73;
    --bg-gradient-end: #cfdde4;
    --theme-overlay: rgba(0, 0, 0, 0.06);
}

/* 早晨主題 (5:00-10:00) */
body.theme-morning {
    --bg-gradient-start: #cdbfb0;
    --bg-gradient-mid: #d9d1c6;
    --bg-gradient-end: #e6e2da;
    --theme-overlay: rgba(0, 0, 0, 0.05);
    --primary-color: #7a5a4a;
    --secondary-color: #5d4037;
    --accent-color: #c47a3a;
    --text-color: #5d4037;
    --heading-color: #c47a3a;
    --white: #fff8f0;
    --celestial-color: rgba(255, 235, 200, 0.55);
    --celestial-glow: rgba(255, 235, 200, 0.18);
    --celestial-top: 10%;
}

/* 白天主題 (10:00-16:00) */
body.theme-day {
    --bg-gradient-start: #2a5c73;
    --bg-gradient-mid: #3b7188;
    --bg-gradient-end: #cfdde4;
    --theme-overlay: rgba(0, 0, 0, 0.06);
    --primary-color: #2a6a80;
    --secondary-color: #0f3446;
    --accent-color: #b07a3a;
    --text-color: #1f2a33;
    --heading-color: #2a6a80;
    --white: #f3f6f8;
    --celestial-color: rgba(240, 245, 250, 0.55);
    --celestial-glow: rgba(240, 245, 250, 0.18);
    --celestial-top: 10%;
}

/* 夕陽主題 (16:00-19:00) */
body.theme-sunset {
    --bg-gradient-start: #4a3a50;  /* 暮紫 */
    --bg-gradient-mid: #8b5a4a;    /* 暖褐橘 */
    --bg-gradient-end: #d4a574;    /* 金橘 */
    --theme-overlay: rgba(0, 0, 0, 0.07);
    --primary-color: #6b4a3a;      /* 暖棕 */
    --secondary-color: #4a3a50;
    --accent-color: #d4956a;       /* 夕陽橘 */
    --text-color: #3a2a25;
    --heading-color: #d4956a;      /* 夕陽橘標題 */
    --white: #fff5ee;              /* 暖白 */
    --celestial-color: rgba(255, 180, 120, 0.6);
    --celestial-glow: rgba(255, 150, 80, 0.25);
    --celestial-top: 15%;
}

/* 夜晚主題 (19:00-5:00) */
body.theme-night {
    --bg-gradient-start: #0b2532;
    --bg-gradient-mid: #163544;
    --bg-gradient-end: #244353;
    --theme-overlay: rgba(0, 0, 0, 0.22);
    --primary-color: #5f8697;
    --secondary-color: #0b2532;
    --accent-color: #7ab8d4;
    --text-color: #e7eef2;
    --heading-color: #7ab8d4;      /* 夜晚淡藍標題 */
    --light-bg: #163544;
    --white: #e7eef2;
    --celestial-color: rgba(243, 246, 248, 0.45);
    --celestial-glow: rgba(243, 246, 248, 0.14);
    --celestial-top: 10%;
}

/* 夜晚主題時顯示星星和調整雲朵 */
body.theme-night .star-container {
    opacity: 1;
}

body.theme-night .dynamic-cloud {
    opacity: 0.15;
}

/* 夜晚主題標題顏色 */
body.theme-night h1,
body.theme-night h2,
body.theme-night h3,
body.theme-night h4 {
    color: var(--heading-color);
}

/* 夜晚主題 footer - 與背景融合的深藍色調 */
body.theme-night footer {
    background: rgba(11, 37, 50, 0.45) !important;
    border-top: 1px solid rgba(95, 134, 151, 0.25) !important;
    backdrop-filter: blur(10px);
}

/* ===== 通用卡片主題樣式 ===== */

/* 早晨主題卡片 */
body.theme-morning .route-card,
body.theme-morning .feature-card,
body.theme-morning .event-card,
body.theme-morning .card {
    background: rgba(0, 0, 0, 0.08);
    backdrop-filter: blur(8px);
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
    border: 1px solid rgba(255, 255, 255, 0.2);
}

body.theme-morning .route-card:hover,
body.theme-morning .feature-card:hover,
body.theme-morning .event-card:hover,
body.theme-morning .card:hover {
    background: rgba(0, 0, 0, 0.12);
    box-shadow: 0 8px 30px rgba(0, 0, 0, 0.12);
}

body.theme-morning .route-info h3,
body.theme-morning .feature-card h3,
body.theme-morning .event-card h3,
body.theme-morning .card h3 {
    color: #5d4037;
}

body.theme-morning .route-schedule p,
body.theme-morning .route-schedule li,
body.theme-morning p {
    color: #4a3a30;
}

body.theme-morning strong {
    color: #8b5a3a;
}

/* 白天主題卡片（預設） */
body.theme-day .route-card,
body.theme-day .feature-card,
body.theme-day .event-card,
body.theme-day .card {
    background: rgba(0, 0, 0, 0.12);
    backdrop-filter: blur(8px);
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
    border: 1px solid rgba(255, 255, 255, 0.15);
}

body.theme-day .route-card:hover,
body.theme-day .feature-card:hover,
body.theme-day .event-card:hover,
body.theme-day .card:hover {
    background: rgba(0, 0, 0, 0.16);
    box-shadow: 0 8px 30px rgba(0, 0, 0, 0.15);
}

body.theme-day .route-info h3,
body.theme-day .feature-card h3,
body.theme-day .event-card h3,
body.theme-day .card h3 {
    color: var(--white);
}

body.theme-day .route-card p,
body.theme-day .feature-card p,
body.theme-day .event-card p,
body.theme-day .card p,
body.theme-day .route-schedule p,
body.theme-day .route-schedule li {
    color: rgba(243, 246, 248, 0.9);
}

body.theme-day strong {
    color: var(--accent-color);
}

/* 夕陽主題卡片 */
body.theme-sunset .route-card,
body.theme-sunset .feature-card,
body.theme-sunset .event-card,
body.theme-sunset .card {
    background: rgba(0, 0, 0, 0.15);
    backdrop-filter: blur(8px);
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
    border: 1px solid rgba(255, 255, 255, 0.12);
}

body.theme-sunset .route-card:hover,
body.theme-sunset .feature-card:hover,
body.theme-sunset .event-card:hover,
body.theme-sunset .card:hover {
    background: rgba(0, 0, 0, 0.2);
    box-shadow: 0 8px 30px rgba(0, 0, 0, 0.25);
}

body.theme-sunset .route-info h3,
body.theme-sunset .feature-card h3,
body.theme-sunset .event-card h3,
body.theme-sunset .card h3 {
    color: #f0c896;  /* 暖金標題 */
}

/* 夕陽卡片內文字改淺色 */
body.theme-sunset .route-card p,
body.theme-sunset .feature-card p,
body.theme-sunset .event-card p,
body.theme-sunset .card p,
body.theme-sunset .route-schedule p,
body.theme-sunset .route-schedule li {
    color: rgba(255, 245, 238, 0.9);
}

body.theme-sunset strong {
    color: #f0c896;
}

body.theme-sunset .spot {
    background: rgba(212, 149, 106, 0.4);
    color: #f0c896;
}

/* 夜晚主題卡片 */
body.theme-night .route-card,
body.theme-night .feature-card,
body.theme-night .event-card,
body.theme-night .card {
    background: rgba(0, 0, 0, 0.2);
    backdrop-filter: blur(8px);
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.25);
    border: 1px solid rgba(255, 255, 255, 0.08);
}

body.theme-night .route-card:hover,
body.theme-night .feature-card:hover,
body.theme-night .event-card:hover,
body.theme-night .card:hover {
    background: rgba(0, 0, 0, 0.25);
    box-shadow: 0 8px 30px rgba(0, 0, 0, 0.35);
}

body.theme-night .route-info h3,
body.theme-night .feature-card h3,
body.theme-night .event-card h3,
body.theme-night .card h3 {
    color: var(--heading-color);
}

body.theme-night .route-schedule p,
body.theme-night .route-schedule li,
body.theme-night .card p,
body.theme-night .feature-card p,
body.theme-night .event-card p {
    color: var(--text-color);
}

body.theme-night strong {
    color: #B0E7FF;
}

body.theme-night .spot {
    background: rgba(92, 107, 192, 0.3);
    color: #B0E7FF;
}

body.theme-night .route-info .difficulty,
body.theme-night .route-info .best-season {
    color: #B0E7FF;
}

/* 夜晚主題測驗樣式 */
body.theme-night .quiz-container {
    background: rgba(40, 53, 147, 0.95);
}

body.theme-night .quiz-content h2,
body.theme-night .result-content h2 {
    color: #B0E7FF;
}

body.theme-night .question h3 {
    color: #e8eaf6;
}

body.theme-night .option {
    background: rgba(92, 107, 192, 0.3);
    color: #e8eaf6;
}

body.theme-night .option:hover {
    background: rgba(92, 107, 192, 0.5);
}

body.theme-night .option-text {
    color: #e8eaf6;
}

body.theme-night .result-card {
    background: rgba(92, 107, 192, 0.3);
}

body.theme-night .result-card h3 {
    color: #B0E7FF;
}

body.theme-night .result-description {
    color: #e8eaf6;
}

body.theme-night .result-details h4 {
    color: #FFA726;
}

body.theme-night .result-details li {
    background: rgba(92, 107, 192, 0.3);
    color: #e8eaf6;
}

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

/* 確保所有標題都有基本樣式和可見性 */
h1, h2, h3, h4, h5, h6 {
    font-weight: 700;
    line-height: 1.3;
    color: var(--secondary-color);
    margin-bottom: 1rem;
    display: block;
    opacity: 1;
    visibility: visible;
}

h1 { font-size: 2.5rem; }
h2 { font-size: 2rem; }
h3 { font-size: 1.75rem; }
h4 { font-size: 1.5rem; }

body {
    font-family: 'Noto Sans TC', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
    line-height: 1.6;
    color: var(--text-color);
    background: linear-gradient(to bottom, var(--bg-gradient-start) 0%, var(--bg-gradient-mid) 50%, var(--bg-gradient-end) 100%);
    background-attachment: fixed;
    min-height: 100vh;
    transition: background 2s ease, color 0.5s ease;
    position: relative;
    overflow-x: hidden;
    display: flex;
    flex-direction: column;
}

body::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: var(--theme-overlay);
    pointer-events: none;
    z-index: 0;
    transition: background 2s ease;
}

/* 天體 (太陽/月亮) */
body::after {
    content: '';
    position: fixed;
    width: 90px;
    height: 90px;
    border-radius: 50%;
    background: var(--celestial-color);
    top: var(--celestial-top);
    right: 10%;
    box-shadow: 0 0 18px var(--celestial-glow), 0 0 36px var(--celestial-glow);
    z-index: 0;
    transition: all 2s ease;
    pointer-events: none;
}

body > * {
    position: relative;
    z-index: 1;
}

/* 雲朵效果 */
.dynamic-cloud {
    position: fixed;
    background: rgba(255, 255, 255, 0.2);
    border-radius: 100px;
    opacity: 0.5;
    z-index: 0;
    pointer-events: none;
    transition: opacity 2s ease;
}

.dynamic-cloud::before,
.dynamic-cloud::after {
    content: '';
    position: absolute;
    background: rgba(255, 255, 255, 0.2);
    border-radius: 100px;
}

.cloud-1 {
    width: 100px;
    height: 40px;
    top: 15%;
    left: 10%;
    animation: none;
}

.cloud-1::before {
    width: 50px;
    height: 50px;
    top: -25px;
    left: 10px;
}

.cloud-1::after {
    width: 60px;
    height: 40px;
    top: -15px;
    right: 10px;
}

.cloud-2 {
    width: 120px;
    height: 50px;
    top: 35%;
    right: 12%;
    animation: none;
}

.cloud-2::before {
    width: 60px;
    height: 60px;
    top: -30px;
    left: 15px;
}

.cloud-2::after {
    width: 70px;
    height: 50px;
    top: -20px;
    right: 15px;
}

.cloud-3 {
    width: 80px;
    height: 35px;
    top: 55%;
    left: 15%;
    animation: none;
}

.cloud-3::before {
    width: 40px;
    height: 40px;
    top: -20px;
    left: 8px;
}

.cloud-3::after {
    width: 50px;
    height: 35px;
    top: -12px;
    right: 8px;
}

@keyframes floatCloud1 {
    0%, 100% {
        transform: translateX(0) translateY(0);
    }
    50% {
        transform: translateX(40px) translateY(-15px);
    }
}

@keyframes floatCloud2 {
    0%, 100% {
        transform: translateX(0) translateY(0);
    }
    50% {
        transform: translateX(-50px) translateY(-20px);
    }
}

@keyframes floatCloud3 {
    0%, 100% {
        transform: translateX(0) translateY(0);
    }
    50% {
        transform: translateX(35px) translateY(15px);
    }
}

/* 星星效果 */
.star-container {
    position: fixed;
    width: 100%;
    height: 100%;
    top: 0;
    left: 0;
    opacity: 0;
    transition: opacity 2s ease;
    z-index: 0;
    pointer-events: none;
}

.star {
    position: absolute;
    width: 2px;
    height: 2px;
    background: rgba(243, 246, 248, 0.9);
    border-radius: 50%;
    animation: none;
}

@keyframes twinkle {
    0%, 100% { opacity: 0.2; transform: scale(1); }
    50% { opacity: 1; transform: scale(1.5); }
}

.container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 20px;
}

.container-full {
    width: 100%;
    padding: 0 20px;
}

/* Buttons */
.btn-primary {
    display: inline-block;
    padding: 12px 30px;
    background: var(--primary-color);
    color: var(--white);
    text-decoration: none;
    border-radius: 25px;
    border: none;
    cursor: pointer;
    font-size: 16px;
    font-weight: 600;
    transition: all 0.3s ease;
}

.btn-primary:hover {
    background: var(--secondary-color);
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.16);
}

.btn-secondary {
    display: inline-block;
    padding: 14px 32px;
    background: var(--primary-color);
    color: var(--white);
    text-decoration: none;
    border: 3px solid var(--primary-color);
    border-radius: 30px;
    cursor: pointer;
    font-size: 18px;
    font-weight: 600;
    transition: all 0.3s ease;
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.14);
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.btn-secondary:hover {
    background: var(--secondary-color);
    border-color: var(--secondary-color);
    color: var(--white);
    box-shadow: 0 12px 28px rgba(0, 0, 0, 0.18);
}

/* 夜晚模式按鈕樣式 */
body.theme-night .btn-secondary {
    background: #5C6BC0;
    border-color: #5C6BC0;
    box-shadow: 0 4px 15px rgba(92, 107, 192, 0.5);
}

body.theme-night .btn-secondary:hover {
    background: #7E57C2;
    border-color: #7E57C2;
    box-shadow: 0 8px 25px rgba(126, 87, 194, 0.6);
}

/* Main 內容區域 */
main {
    flex: 1;
}

/* Footer - 微區隔但不強烈對比 */
footer {
    background: rgba(0, 0, 0, 0.15);
    color: var(--white);
    padding: 40px 20px 30px;
    margin-top: auto;
    border-top: 1px solid rgba(255, 255, 255, 0.1);
    text-align: center;
    backdrop-filter: blur(8px);
}

footer p {
    margin: 0;
    font-size: 14px;
    color: var(--white);
    opacity: 0.7;
    letter-spacing: 0.3px;
}

footer a {
    color: var(--accent-color);
    text-decoration: none;
    transition: color 0.2s ease;
}

footer a:hover {
    color: var(--white);
}

.footer-content {
    max-width: 1200px;
    margin: 0 auto;
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 30px;
    margin-bottom: 30px;
}

.footer-section h4 {
    margin-bottom: 15px;
    color: var(--accent-color);
}

.footer-section ul {
    list-style: none;
}

.footer-section ul li {
    margin-bottom: 8px;
}

.footer-section a {
    color: var(--white);
    text-decoration: none;
    opacity: 0.8;
    transition: opacity 0.3s ease;
}

.footer-section a:hover {
    opacity: 1;
}

.social-icons {
    display: flex;
    gap: 15px;
    justify-content: center;
}

.social-icons a img {
    width: 32px;
    height: 32px;
    transition: transform 0.3s ease;
}

.social-icons a:hover img {
    transform: scale(1.1);
}

.copyright {
    text-align: center;
    padding-top: 20px;
    border-top: 1px solid rgba(255, 255, 255, 0.2);
    opacity: 0.7;
}

/* Responsive */
@media (max-width: 768px) {
    body {
        font-size: 15px;
    }

    .container {
        padding: 0 20px;
        max-width: 100%;
    }

    h1 {
        font-size: 28px;
    }

    h2 {
        font-size: 24px;
    }

    h3 {
        font-size: 20px;
    }

    .btn-primary, .btn-secondary {
        padding: 12px 24px;
        font-size: 15px;
        width: 100%;
        max-width: 300px;
    }

    footer {
        padding: 40px 20px 20px;
    }

    .footer-content {
        grid-template-columns: 1fr;
        gap: 30px;
        text-align: center;
    }

    .footer-section h3 {
        font-size: 18px;
    }

    .footer-bottom {
        flex-direction: column;
        gap: 15px;
        text-align: center;
    }

    /* 改善觸控體驗 */
    a, button, input, select, textarea {
        min-height: 44px;
    }

    /* 優化卡片間距 */
    .card {
        margin-bottom: 20px;
    }
}

/* Utility Classes */
.text-center {
    text-align: center;
}

.mt-20 {
    margin-top: 20px;
}

.mb-20 {
    margin-bottom: 20px;
}

.pt-40 {
    padding-top: 40px;
}

.pb-40 {
    padding-bottom: 40px;
}

/* ===== 圖片載入優化 ===== */

/* 圖片預設佔位樣式 */
img {
    max-width: 100%;
    height: auto;
}

/* 懶載入圖片淡入效果 */
img[loading="lazy"] {
    opacity: 0;
    transition: opacity 0.3s ease-in-out;
}

img[loading="lazy"].loaded,
img.loaded {
    opacity: 1;
}

/* Logo 圖片優先載入，不需要淡入效果 */
.logo img,
img[loading="eager"] {
    opacity: 1;
}

/* 圖片佔位背景色 */
img[loading="lazy"]:not(.loaded) {
    background-color: var(--light-bg);
}

/* 防止圖片載入時的版面跳動 */
.route-card img,
.about-section img,
.mascot-section img,
.event-card img,
.gallery-grid img {
    aspect-ratio: 16 / 10;
    object-fit: cover;
}

/* 方形圖片（吉祥物等） */
.logo img,
.welcome-logo,
.contact-mascot,
.mascot-image {
    aspect-ratio: 1 / 1;
    object-fit: contain;
}
